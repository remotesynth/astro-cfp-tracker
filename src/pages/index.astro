---
import BaseLayout from '../layouts/main.astro';
import CFPCard from '../components/CFPCard.astro';
import Button from '../components/Button.astro';
import {getSessions} from '../lib/AppWrite.js';

const sessions = await getSessions();
---

<BaseLayout title="My CFP Submissions">
	<div class="w-36 m-4 float-right">
		<Button url="/addSession">New Session</Button>
	</div>
	<h2
		class="mb-4 text-3xl font-bold leading-tight tracking-tighter text-gray-700 md:text-5xl dark:text-gray-300">
		Current Sessions</h2>
	{
		sessions.map((session) => (<CFPCard session={session} />))
	}
</BaseLayout>
